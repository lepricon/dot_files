#!/bin/bash

if [ $# -lt 2 ]; then
    echo "USAGE: gcpp <pattern> <path> <grep-args>"
    exit 1
fi

PATTERN=`echo $1 | sed -e 's/ /\\\\ /g'`
PATH_TO_SEARCH=$2
shift 2
EXTRA_GREP_ARGS=$@

find_srcs ${PATH_TO_SEARCH} | grep -v Test_modules | xargs -I filename grep --color -Hn "${PATTERN}" filename ${EXTRA_GREP_ARGS}


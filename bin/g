#!/bin/bash

if [ $# -lt 2 ]; then
    echo "USAGE: g <pattern> <path> <grep-args>"
    exit 1
fi

PATTERN=`echo $1 | sed -e 's/ /\\\\ /g'`
PATH_TO_SEARCH=$2
EXTRA_GREP_ARGS=$3

find ${PATH_TO_SEARCH} | grep -v "\.svn" | xargs -I@ grep --binary-files=without-match --color -Hn "${PATTERN}" @ ${EXTRA_GREP_ARGS}

